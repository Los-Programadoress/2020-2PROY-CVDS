<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:head> 
		<title>Registro Novedad</title>
		<link rel="stylesheet" href="master5.css"/>
	</h:head>
	
	<body>
		<script type="text/javascript">
            PrimeFaces.locales['es'] = {
                closeText: 'Cerrar',
                prevText: 'Anterior',
                nextText: 'Siguiente',
                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
                weekHeader: 'Semana',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Sólo hora',
                timeText: 'Tiempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                currentText: 'Fecha actual',
                ampm: false,
                month: 'Mes',
                week: 'Semana',
                day: 'Día',
                allDayText: 'Todo el día'
            };
        </script>
		<h:form id="form">
			<center>
				<h1 class="h1">Registrar Novedades</h1>
			</center>
			<div class="en-sesion">
				<a href="/faces/sesion.xhtml"><p:commandButton type="button" class="menu" update="Equipos_Form" value="Menú"/></a>
				<p:commandButton class="cerrar" update="form" actionListener="#{shiroBean.doLogOut()}" value="Cerrar sesión"/>
				<img class="logo" src="https://gestorpasswd.escuelaing.edu.co/assets/content/img/imgCliente/escuela/banner.png"/>
			</div>
			<p:separator style="width:3px;height:160px" class="separat"/>
			<p:separator style="width:3px;height:160px" class="separat2"/>
			<p:inputText class="input" placeholder="Titulo" type="String" value="#{titulo}"/>
			<p:inputText class="input2" placeholder="Detalle" type="String" value="#{detalle}"/>
			<p:autoComplete class="input3" placeholder="Equipo" dropdown="true" value="#{numeroEquipo}" completeMethod="#{registrarNovedadBean.consultarMarcaEquipo()}" />
			<p:commandButton class="registrarEq" update="form" actionListener="#{registrarNovedadBean.registrarNovedadEquipo(titulo, detalle)}" value="Registrar"/>
			<p:tabView class="tap">
				<p:tab title="Novedades Equipos">
					<p:dataTable var="nov" value="#{registrarNovedadBean.consultarNovedadEquipos()}"
					 paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}" 
					 rows="6" selection="#{registrarElementosBean.elementoSelec}"
                     rowKey="#{nov.id}">
						<f:facet name="header" class="columna">Equipos</f:facet>
			
						<p:column class="columna" headerText="Titulo">
							<h:outputText value="#{nov.titulo}" />
						</p:column>
				
						<p:column class="columna" headerText="Fecha">
							<h:outputText value="#{nov.fecha}" />
						</p:column>
						
						<p:column class="columna" headerText="Responsable">
							<h:outputText value="#{nov.responsable.idCorreo}" />
						</p:column>
						
						<p:column class="columna" headerText="Detalle">
							<h:outputText value="#{nov.detalle}" />
						</p:column>
				
					</p:dataTable>
				</p:tab>
				
				<p:tab title="Novedades Elementos">
					<p:dataTable var="nove" value="#{registrarNovedadBean.consultarNovedadElementos()}"
						paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}" 
						rows="6" selection="#{registrarElementosBean.elementoSelec}"
						rowKey="#{nov.id}">
						<f:facet name="header" class="columna">Elementos</f:facet>
				
						<p:column class="columna" headerText="Titulo">
							<h:outputText value="#{nove.titulo}" />
						</p:column>
				
						<p:column class="columna" headerText="Fecha">
							<h:outputText value="#{nove.fecha}" />
						</p:column>
						
						<p:column class="columna" headerText="Responsable">
							<h:outputText value="#{nove.responsable.idCorreo}" />
						</p:column>
						
						<p:column class="columna" headerText="Detalle">
							<h:outputText value="#{nove.detalle}" />
						</p:column>
				
					</p:dataTable>
				</p:tab>
				
				<p:tab title="Novedades Laboratorios">
					<p:dataTable var="nove" value="#{registrarNovedadBean.consultarNovedadLaboratorios()}"
						paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}" 
						rows="6" selection="#{registrarElementosBean.elementoSelec}"
						rowKey="#{nov.id}">
						<f:facet name="header" class="columna">Laboratorios</f:facet>
				
						<p:column class="columna" headerText="Titulo">
							<h:outputText value="#{nove.titulo}" />
						</p:column>
						
						<p:column class="columna" headerText="Fecha">
							<h:outputText value="#{nove.fecha}" />
						</p:column>
						
						<p:column class="columna" headerText="Responsable">
							<h:outputText value="#{nove.responsable.idCorreo}" />
						</p:column>
						
						<p:column class="columna" headerText="Detalle">
							<h:outputText value="#{nove.detalle}" />
						</p:column>
						
					</p:dataTable>
				</p:tab>
				
			</p:tabView>
			
            <br />
            <br />
		</h:form>
	</body>
</html>